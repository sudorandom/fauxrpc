syntax = "proto3";

package stubs.v1;

import "buf/validate/validate.proto";

message Stub {
  StubRef ref = 1 [(buf.validate.field).required = true];
  oneof content {
    bytes proto = 2;
    string json = 3;
  }
}

message StubRef {
  string id = 1 [
    (buf.validate.field).required = true,
    (buf.validate.field).string.min_len = 2,
    (buf.validate.field).string.max_len = 200
  ];

  string target = 2;
}
